AIOKAFKA Education project
Confluentinc
Для связывания микро сервисов как шина данных
### Почему
Высокая производительность
Легко расширять
Гарантия сохранения данных при расширении

### Особенности
Топик = Очередь
Партиции = Очереди в топике
Реплики = Другие кластеры кафки с копиями топиков и партиций
Нагрузка автоматически балансируется между репликами
Сообщения хранятся на диске и удаляются массово по истечении времени

#### Доставка сообщений 2 вида
At least once - хотя бы 1 раз или 0 - Продюсер не ждет ACK от кафки
Excatly once - 1 раз или больше - Продюсер ждет ACK от кафки
Manual - настраивается вручную

#### Вычитка сообщений
Делается по оффсетам.
Консьюмер при вычитке шлет коммит и смещает оффсет сообщений с какого читать.
Можно слать вручную, можно слать автоматически

### Группы консьюмеров
Консьюмеры объединяются в группы по топикам.
Каждый консьюмер распределяется кафкой по партициям 
1 партиция = 1 консьюмер

Если разъединить консьюмеры по разным группам и кинуть на один топик то сообщения будут вычитываться по два раза 1 на группу и обрабатываться по разному.

В Apache Kafka можно отправлять с сообщением не только полезную нагрузку (payload), но и метаданные, которые могут быть полезны для обработки и управления сообщениями. Вот несколько примеров:

1. **Тема (Topic)**: Указывает, в какую тему отправляется сообщение. Это помогает Kafka определить, какие потребители должны получать это сообщение.
    
2. **Ключ (Key)**: Используется для разделения сообщений внутри раздела. Kafka использует ключ для сортировки сообщений внутри раздела, что может быть полезно для группировки или сортировки данных.
    
3. **Протокол (Protocol)**: Информация о протоколе, который используется для отправки сообщения (например, HTTP, MQTT и т.д.). Это может быть полезно для интеграции с различными системами и технологиями.
    
4. **Время создания (Timestamp)**: Время, когда сообщение было создано или отправлено. Это может быть полезно для отслеживания порядка сообщений и их временных характеристик.
    
5. **Смещение (Offset)**: Информация о текущем смещении в разделе. Это может быть полезно для управления состоянием потребителя и отслеживания прогресса чтения сообщений.
    
6. **Проверка целостности (Checksum)**: Для обеспечения целостности данных и обнаружения ошибок при передаче сообщений.